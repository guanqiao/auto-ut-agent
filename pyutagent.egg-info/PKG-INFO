Metadata-Version: 2.4
Name: pyutagent
Version: 0.1.0
Summary: AI-powered Java Unit Test Generator with Agent capabilities
Author: PyUT Agent Team
License: MIT
Keywords: testing,java,unit-test,ai,agent
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: PyQt6>=6.8.0
Requires-Dist: tree-sitter>=0.23.0
Requires-Dist: tree-sitter-java>=0.23.5
Requires-Dist: langchain>=0.3.0
Requires-Dist: langchain-community>=0.3.0
Requires-Dist: langchain-openai>=0.2.0
Requires-Dist: openai>=1.52.0
Requires-Dist: sqlite-vec>=0.1.0
Requires-Dist: sentence-transformers>=3.2.0
Requires-Dist: SQLAlchemy>=2.0.36
Requires-Dist: pydantic>=2.9.0
Requires-Dist: pydantic-settings>=2.6.0
Requires-Dist: PyYAML>=6.0.2
Requires-Dist: numpy>=1.26.0
Requires-Dist: aiofiles>=24.1.0
Requires-Dist: python-dotenv>=1.0.1
Requires-Dist: gitpython>=3.1.40
Requires-Dist: pathspec>=0.12.1
Requires-Dist: tenacity>=8.2.0
Requires-Dist: backoff>=2.2.0
Provides-Extra: dev
Requires-Dist: pytest>=8.3.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.24.0; extra == "dev"
Requires-Dist: pytest-qt>=4.4.0; extra == "dev"
Requires-Dist: pytest-cov>=6.0.0; extra == "dev"
Requires-Dist: pytest-html>=4.1.0; extra == "dev"
Requires-Dist: pytest-metadata>=3.1.0; extra == "dev"
Requires-Dist: allure-pytest>=2.13.0; extra == "dev"

# PyUT Agent

AI é©±åŠ¨çš„ Java å•å…ƒæµ‹è¯•ç”Ÿæˆå™¨ï¼ŒåŸºäº Agent æ¶æ„ï¼Œæ”¯æŒå¯¹è¯å¼äº¤äº’ã€‚

## ç‰¹æ€§

- ğŸ¤– **Agent æ¶æ„**: åŸºäº LangChain çš„ ReAct Agentï¼Œæ”¯æŒå·¥å…·è°ƒç”¨å’Œè§„åˆ’
- ğŸ’¬ **å¯¹è¯å¼ UI**: PyQt6 æ„å»ºçš„å›¾å½¢ç•Œé¢ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€äº¤äº’
- ğŸ§  **è®°å¿†ç³»ç»Ÿ**: å¤šå±‚è®°å¿†ï¼ˆå·¥ä½œ/çŸ­æœŸ/é•¿æœŸ/å‘é‡ï¼‰ï¼ŒæŒç»­å­¦ä¹ ä¼˜åŒ–
- ğŸ” **å‘é‡æ£€ç´¢**: sqlite-vec å­˜å‚¨å’Œæ£€ç´¢ç›¸ä¼¼æµ‹è¯•æ¨¡å¼
- â¸ï¸ **æš‚åœ/æ¢å¤**: éšæ—¶æš‚åœç”Ÿæˆä»»åŠ¡ï¼Œä¿å­˜çŠ¶æ€åå¯æ¢å¤
- ğŸ“Š **è¦†ç›–ç‡åˆ†æ**: é›†æˆ JaCoCoï¼Œå®æ—¶æ˜¾ç¤ºè¦†ç›–ç‡æŠ¥å‘Š
- ğŸ”§ **LLM é…ç½®**: æ”¯æŒ OpenAIã€Anthropicã€DeepSeekã€Ollama ç­‰å¤šç§æä¾›å•†

## å®‰è£…

### ç¯å¢ƒè¦æ±‚
- Python 3.9+
- Maven 3.6+
- Java 11+

### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd auto-ut-agent

# å®‰è£…ä¾èµ–
pip install -e .

# æˆ–è€…å¼€å‘æ¨¡å¼å®‰è£…
pip install -e ".[dev]"
```

## è¿è¡Œ

```bash
# å¯åŠ¨åº”ç”¨
pyutagent

# æˆ–è€…
python -m pyutagent
```

## ä½¿ç”¨æŒ‡å—

### 1. é…ç½® LLM
- ç‚¹å‡»èœå• `è®¾ç½® -> LLM é…ç½®`
- é€‰æ‹©æä¾›å•†ï¼ˆOpenAIã€Anthropicã€DeepSeekã€Ollamaï¼‰
- è¾“å…¥ API Key å’Œæ¨¡å‹åç§°
- ç‚¹å‡» `æµ‹è¯•è¿æ¥` éªŒè¯é…ç½®
- æ”¯æŒå‚æ•°ï¼šTemperatureã€Max Tokensã€Timeoutã€Retries

### 2. æ‰“å¼€é¡¹ç›®
- ç‚¹å‡»èœå• `æ–‡ä»¶ -> æ‰“å¼€é¡¹ç›®`
- é€‰æ‹©ä¸€ä¸ª Maven é¡¹ç›®ç›®å½•ï¼ˆåŒ…å« pom.xmlï¼‰

### 3. ç”Ÿæˆæµ‹è¯•
- åœ¨å·¦ä¾§æ–‡ä»¶æ ‘ä¸­é€‰æ‹©ä¸€ä¸ª Java æ–‡ä»¶
- åœ¨å¯¹è¯åŒºåŸŸè¾“å…¥: "ç”Ÿæˆ UserService çš„æµ‹è¯•"
- æˆ–ä½¿ç”¨å¿«æ·é”® `Ctrl+G`

### 4. æ§åˆ¶ç”Ÿæˆè¿‡ç¨‹
- **æš‚åœ**: è¾“å…¥ "æš‚åœ" æˆ–ç‚¹å‡»æš‚åœæŒ‰é’®
- **ç»§ç»­**: è¾“å…¥ "ç»§ç»­" æ¢å¤ç”Ÿæˆ
- **æŸ¥çœ‹çŠ¶æ€**: è¾“å…¥ "çŠ¶æ€" æŸ¥çœ‹å½“å‰è¿›åº¦

### 5. æŸ¥çœ‹ç»“æœ
- ç”Ÿæˆçš„æµ‹è¯•æ–‡ä»¶ä¿å­˜åœ¨ `src/test/java` ç›®å½•
- è¦†ç›–ç‡æŠ¥å‘Šåœ¨å³ä¾§è¿›åº¦é¢æ¿æ˜¾ç¤º

## æ”¯æŒçš„ LLM æä¾›å•†

| æä¾›å•† | é»˜è®¤ Endpoint | æ¨èæ¨¡å‹ |
|--------|--------------|---------|
| OpenAI | https://api.openai.com/v1 | gpt-4, gpt-4-turbo, gpt-3.5-turbo |
| Anthropic | https://api.anthropic.com/v1 | claude-3-opus, claude-3-sonnet |
| DeepSeek | https://api.deepseek.com/v1 | deepseek-chat, deepseek-coder |
| Ollama | http://localhost:11434/v1 | llama2, codellama, mistral |
| Custom | è‡ªå®šä¹‰ | ä»»æ„å…¼å®¹ OpenAI API çš„æ¨¡å‹ |

## é…ç½®

### ç¯å¢ƒå˜é‡

```bash
PYUT_LLM_PROVIDER=openai
PYUT_LLM_API_KEY=your-api-key
PYUT_LLM_MODEL=gpt-4
PYUT_TARGET_COVERAGE=0.8
PYUT_MAX_ITERATIONS=10
```

### é…ç½®æ–‡ä»¶

é…ç½®ä¿å­˜åœ¨ `~/.pyutagent/config.json`ï¼š

```json
{
  "llm": {
    "provider": "openai",
    "endpoint": "https://api.openai.com/v1",
    "api_key": "sk-...",
    "model": "gpt-4",
    "temperature": 0.7,
    "max_tokens": 4096,
    "timeout": 300,
    "max_retries": 5
  }
}
```

## æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
pytest tests/unit/memory/
pytest tests/unit/tools/

# å¸¦è¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=pyutagent --cov-report=html
```

## é¡¹ç›®ç»“æ„

```
pyutagent/
â”œâ”€â”€ memory/           # è®°å¿†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ vector_store.py      # sqlite-vec å‘é‡å­˜å‚¨
â”‚   â”œâ”€â”€ working_memory.py    # å·¥ä½œè®°å¿†
â”‚   â””â”€â”€ short_term_memory.py # çŸ­æœŸè®°å¿†
â”œâ”€â”€ tools/            # å·¥å…·
â”‚   â”œâ”€â”€ java_parser.py       # Java ä»£ç è§£æ
â”‚   â””â”€â”€ maven_tools.py       # Maven å·¥å…·
â”œâ”€â”€ llm/              # LLM ç›¸å…³
â”‚   â”œâ”€â”€ config.py            # LLM é…ç½®æ¨¡å‹
â”‚   â”œâ”€â”€ client.py            # LLM å®¢æˆ·ç«¯
â”‚   â””â”€â”€ model_router.py      # æ¨¡å‹è·¯ç”±å™¨
â”œâ”€â”€ ui/               # UI ç»„ä»¶
â”‚   â”œâ”€â”€ main_window.py       # ä¸»çª—å£
â”‚   â”œâ”€â”€ chat_widget.py       # å¯¹è¯ç»„ä»¶
â”‚   â””â”€â”€ dialogs/
â”‚       â””â”€â”€ llm_config_dialog.py  # LLM é…ç½®å¯¹è¯æ¡†
â”œâ”€â”€ main.py           # å…¥å£ç‚¹
â””â”€â”€ config.py         # é…ç½®ç®¡ç†
```

## æŠ€æœ¯æ ˆ

- **Python 3.9+**
- **PyQt6**: GUI æ¡†æ¶
- **LangChain**: Agent æ¡†æ¶
- **tree-sitter**: Java ä»£ç è§£æ
- **sqlite-vec**: çº¯ Python å‘é‡å­˜å‚¨
- **JaCoCo**: Java è¦†ç›–ç‡åˆ†æ

## å¼€å‘è®¡åˆ’

- [x] é¡¹ç›®åŸºç¡€ç»“æ„
- [x] sqlite-vec å‘é‡å­˜å‚¨
- [x] è®°å¿†ç³»ç»Ÿ
- [x] Java ä»£ç è§£æ
- [x] Maven å·¥å…·
- [x] PyQt6 UI
- [x] LLM é…ç½®åŠŸèƒ½
- [ ] Agent æ ¸å¿ƒ (ReAct)
- [ ] å¯¹è¯ç®¡ç†å™¨
- [ ] æš‚åœ/æ¢å¤åŠŸèƒ½
- [ ] é›†æˆæµ‹è¯•

## è®¸å¯è¯

MIT License
